
<div class="bot-container hide-bot" [class.hide-bot]="! isBotOpen">

    <div class="bot-header">
        <button style="font-size:14pt" (click)="onClearHistory()">
            <span class="glyphicon glyphicon-trash"></span>
        </button>
        <button>
            <span class="glyphicon glyphicon-question-sign"></span>
        </button>
        <button>
            <span class="glyphicon glyphicon-remove-sign" (click)="onHide()"></span>
        </button>
    </div>

    <div class="bot-history" #botHistory>

        <div class="bot-message" *ngFor="let m of view.history" [class.bot-message-user]="m.type === 'user'" [class.bot-card]="m.type === 'card'">
            <h5>{{ m.from }}</h5>
            <h6>{{ m.ts | date:'EEEE @ h:mm a' }}</h6>
            <div [innerHTML]="m.message"></div>
        </div>

    </div>

    <div class="bot-query">

        <input type="text" placeholder="Enter your request here..."
               #botQueryInput
               name="botQuery"
               #botQuery="ngModel"
               (keyup)="($event.key === 'Enter') && onSubmit()"
               [(ngModel)]="view.query"
               [disabled]="view.isBusy"
        >

        <button (click)="onSubmit()" [disabled]="view.isBusy">
            <span class="glyphicon glyphicon-comment"></span>
        </button>

    </div>

    <div class="bot-query-busy" [hidden]="! view.isBusy">
        <img src="img/ellipsis.svg">
    </div>

</div>
